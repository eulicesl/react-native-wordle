# Phase 2A: Game Feel & Emotional Design

Transform the game interactions from functional to delightful. This phase focuses on the core gameplay loop: typing letters, revealing guesses, and win/loss experiences.

## Prerequisites

Phase 1A and 1B must be completed. All animations use Reanimated. Sound engine is functional. Haptic vocabulary is defined. Typography and spacing systems exist.

## Context

- Letter tiles: `src/screens/game/components/letterSquare.tsx` (Reanimated animations, flip/shake/bounce)
- Game board: `src/screens/game/components/gameBoard.tsx` (modal, layout, vibe meter)
- Game logic: `src/screens/game/index.tsx` (game state, win/loss handlers)
- Confetti: `src/components/ParticleEffect.tsx` (particle system)
- Sounds: `src/utils/sounds.ts` (SoundType, playSound)
- Haptics: `src/utils/haptics.ts` (HapticType, playHaptic)
- Animations: `src/utils/animations.ts` (timing constants)
- Strings: `src/utils/strings.ts` (WIN_MESSAGES)
- Accessibility: `src/utils/accessibility.ts` (announceGameResult)

## Tasks

- [ ] F2.1: Add tile entry bounce animation when a letter is typed. In src/screens/game/components/letterSquare.tsx, the current tile entry animation (lines 108-114) scales from 1â†’1.2 over 50ms then back to 1. This is too subtle. Replace with a more satisfying spring animation: when a letter is typed (letter !== '' && matchStatus === ''), animate scale from 1.0â†’1.15â†’1.0 using withSpring with damping=12, stiffness=350, mass=0.8. Also animate the border width/color: briefly brighten the border color to theme.colors.text for 150ms using withSequence(withTiming(theme.colors.text, {duration:0}), withDelay(150, withTiming(original_border_color, {duration:150}))). The overall effect should feel like the tile "receives" the letter with a satisfying pop. The animation pairs with the existing keyPress haptic and sound. Respect reduceMotion - when enabled, just show the letter instantly with no animation. Test by typing letters and verifying each tile pops individually.

- [ ] F2.2: Redesign tile reveal choreography for dramatic tension. In src/screens/game/components/letterSquare.tsx, update the tile flip reveal sequence. Current behavior (lines 115-151): tiles flip via rotateY 0â†’90â†’0 with 250ms stagger. New behavior: 1) Add an anticipation pause - increase TILE_FLIP_STAGGER_MS from 250 to 200 but add a 200ms initial delay before the first tile (update src/utils/animations.ts). 2) Change the flip to rotateX instead of rotateY for a more dramatic top-to-bottom reveal. 3) During the flip midpoint (at 90 degrees), add a subtle scale pulse: scale 1.0â†’1.05â†’1.0 using withSequence. 4) After all tiles in a row are revealed, if any are 'correct', those tiles should pulse once: scale 1.0â†’1.08â†’1.0 with spring.bouncy (damping=8, stiffness=300). 5) Update the sound and haptic timing to fire at the midpoint of each tile flip (when the color change becomes visible). Update TILE_FLIP_DURATION_MS to 200ms (faster individual flip, same total time due to initial pause). Ensure the total row reveal time stays roughly the same (~1200ms) to not feel slower. Verify with reduceMotion that tiles just change color instantly.

- [ ] F2.3: Implement win experience tiers with graduated celebrations. In src/screens/game/index.tsx, the win handler (line 348-397) triggers confetti and sets gameWon. Add tiered celebration based on guessCount. Create a new file src/utils/winTiers.ts that exports: interface WinTier { name: string; confettiCount: number; soundType: SoundType; }. Define 6 tiers: tier1={name:'GENIUS', confettiCount:100, soundType:'winTier1'}, tier2={name:'MAGNIFICENT', confettiCount:80, soundType:'winTier2'}, tier3={name:'IMPRESSIVE', confettiCount:60, soundType:'winTier3'}, tier4={name:'SPLENDID', confettiCount:50, soundType:'winTier4'}, tier5={name:'GREAT', confettiCount:40, soundType:'winTier5'}, tier6={name:'PHEW', confettiCount:20, soundType:'winTier6'}. Update the win setTimeout to: get the tier, pass tier.confettiCount to ConfettiExplosion, play tier.soundType, and pass tier.name to the modal via a new winTierName state variable. In gameBoard.tsx modal, replace the generic winMessage with the tier name displayed in the Display typography style. Also update WIN_MESSAGES in src/utils/strings.ts to match the tier names. Write a test for getWinTier(guessCount) that verifies each guess count maps to the correct tier.

- [ ] F2.4: Redesign the loss experience to be compassionate. In src/screens/game/components/gameBoard.tsx, the loss modal currently shows a red X icon with "Better luck next time" text (lines 228-238). Redesign: 1) Remove the red close-circle icon. Replace with a subtle emoji or no icon at all. 2) Change the title from "Better luck next time" to just show the solution word prominently, with a caption "The word was" above it. 3) Add a typewriter-style reveal of the solution: each letter appears one by one with 100ms delay using Reanimated. Create a SolutionReveal component that takes the word and renders each letter with a staggered FadeIn. 4) The loss sound should play when the solution reveal starts, not when the modal opens. 5) Add a "Tomorrow's puzzle awaits" message for daily mode, or "Try another?" for unlimited mode. 6) The word definition (already implemented, lines 242-266) should appear after the solution reveal with a slight delay. 7) Color palette: no red anywhere in the loss flow. Use the secondary text color for all messaging. The overall tone should be "that was a tough one" not "you failed".

- [ ] F2.5: Implement streak milestone celebrations. Create a new file src/utils/streakMilestones.ts that exports: MILESTONE_THRESHOLDS = [3, 7, 14, 30, 50, 100, 200, 365] and a function checkStreakMilestone(streak: number): number | null that returns the milestone if the streak matches, null otherwise. In src/screens/game/index.tsx, after recordGameWin is dispatched (line 357), check if the new currentStreak + 1 hits a milestone. If so: 1) Play the 'streakMilestone' sound, 2) Play the 'streakMilestone' haptic, 3) Show a special achievement toast with a golden accent color (#FFD700) and flame icon. The toast message should be "ðŸ”¥ {streak}-Day Streak!" with description "You're on fire! Keep it going." Add the milestone check after the achievement check (line 361) so both can trigger in the same game. If both an achievement and a streak milestone occur, show the achievement first, then the streak milestone after 4 seconds (queue them). Write a test for checkStreakMilestone that verifies each threshold returns correctly and non-milestone numbers return null.
